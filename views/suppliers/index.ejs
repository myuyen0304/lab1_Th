<%- include('../partials/header') %>
<div class="container mt-4">
  <% if (message) { %>
  <script>
    alert("<%= message %>");
  </script>
  <% } %> <% if (error) { %>
  <script>
    alert("<%= error %>");
  </script>
  <% } %>
  <div class="card shadow-sm">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Danh sách nhà cung cấp</h2>
        <a href="/suppliers/new" class="btn btn-success">+ Thêm nhà cung cấp</a>
      </div>
      <div class="table-responsive">
        <table class="table table-striped align-middle">
          <thead class="table-light">
            <tr>
              <th scope="col">Tên</th>
              <th scope="col">Địa chỉ</th>
              <th scope="col">Số điện thoại</th>
              <th scope="col" class="text-center">Hành động</th>
            </tr>
          </thead>
          <tbody>
            <% if (suppliers.length === 0) { %>
            <tr>
              <td colspan="4" class="text-center text-muted">
                Chưa có nhà cung cấp nào.
              </td>
            </tr>
            <% } %> <% suppliers.forEach(supplier => { %>
            <tr>
              <td><%= supplier.name %></td>
              <td><%= supplier.address %></td>
              <td><%= supplier.phone %></td>
              <td class="text-center">
                <a
                  href="/suppliers/edit/<%= supplier._id %>"
                  class="btn btn-warning btn-sm me-1"
                  >Sửa</a
                >
                <form
                  action="/suppliers/delete/<%= supplier._id %>"
                  method="POST"
                  style="display: inline"
                >
                  <button
                    type="submit"
                    class="btn btn-danger btn-sm"
                    onclick="return confirm('Xác nhận xóa?')"
                  >
                    Xóa
                  </button>
                </form>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<%- include('../partials/footer') %>
